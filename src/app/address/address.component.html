<h3>收货地址</h3>

<mat-radio-group class="example-radio-group" [(ngModel)]="theAddress" (change)="changeAddress()">
  <mat-radio-button class="example-radio-button" *ngFor="let ad of address; let i=index" [value]="ad">
    <span *ngIf="ad.description; else elseBlock">{{ ad.description }}</span>
    <ng-template #elseBlock><mat-icon>home</mat-icon></ng-template>
     ——{{ getAddressOut(ad) }}
  </mat-radio-button>
</mat-radio-group>


  <button mat-raised-button (click)="newAddress()" [disabled]="isEditAddress">新增地址</button>

  <div *ngIf="isEditAddress"  class="address">
    <form [formGroup]="addressForm" (ngSubmit)="saveAddress()">

      <mat-form-field>
        <mat-select placeholder="省/市/自治区" formControlName="province" (selectionChange)="provinceChanged()">
          <mat-option *ngFor="let province of provinceD" [value]="province">
            {{province.name}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="province.hasError('required')">
          <strong>必填</strong>
        </mat-error>
      </mat-form-field>

      <mat-form-field>
        <mat-select placeholder="市" formControlName="city"  (selectionChange)="cityChanged()">
          <mat-option *ngFor="let city of cityD" [value]="city">
            {{city.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field>
        <mat-select placeholder="县/市/区）" formControlName="county">
          <mat-option *ngFor="let county of countyD" [value]="county">
            {{county.name}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="county.hasError('required')">
          <strong>必填</strong>
        </mat-error>
      </mat-form-field>

      <mat-form-field>
        <input matInput placeholder="门牌号" formControlName="street">
        <mat-error *ngIf="street.hasError('required')">
          <strong>必填</strong>
        </mat-error>
      </mat-form-field>

      <mat-form-field>
        <input matInput placeholder="单位" formControlName="agency">

      </mat-form-field>

      <mat-form-field>
        <input matInput placeholder="邮编" formControlName="postcode">
        <mat-error *ngIf="postcode.hasError('required') || postcode.hasError('pattern')">
          <strong>6位数字</strong>
        </mat-error>
      </mat-form-field>

      <mat-form-field>
        <input matInput placeholder="收货人" formControlName="name">
        <mat-error *ngIf="name.hasError('required')">
          <strong>必填</strong>
        </mat-error>
      </mat-form-field>

      <mat-form-field>
        <input matInput placeholder="电话" formControlName="phone">
        <mat-error *ngIf="phone.hasError('required')">
          <strong>必填</strong>
        </mat-error>
      </mat-form-field>

      <mat-form-field>
        <input matInput placeholder="描述" formControlName="description">
      </mat-form-field>

      <div>
      <span class="button-row">
      <button mat-raised-button [disabled]="!addressForm.valid">保存</button>
      <button mat-raised-button (click)="isEditAddress = false">取消</button>
    </span>
  </div>
    </form>
  </div>
